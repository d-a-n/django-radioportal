{% extends 'radioportal/dashboard/base.html' %}{% load i18n guardian_tags hosts %}
{% block content %}
<h2>{% trans "Dashboard" %}</h2>
<p>{% blocktrans %}Welcome to the configuration panel of the xenim streaming network. 
Here you can change all settings regarding the appearance of your show and the behavior of the streams.
You might also have a look at the wiki for additional features, documentation and contact informations.{% endblocktrans %}</p>

{% if shows or perms.portal.add_show %}
<h3>{% trans "Shows" %}</h3>
<p class="explanation">
{% blocktrans %}
Shows are the entities that are responsible for representing your streams at the homepage of the xenim streaming network. 
They also contain episodes for time a stream is online.
{% endblocktrans %}
</p>
<ul>
{% for s in shows %}
{% get_obj_perms request.user for s as "show_perms" %}
	<li>
{% if "change_show" in show_perms %}<a href="{% host_url admin-episode-list s.slug on dashboard %}">{% endif %}
{{ s }}{% if "change_show" in show_perms %}</a>{% endif %}
{% if "delete_show" in show_perms %}(<a href="{% host_url admin-show-delete s.slug on dashboard %}">{% trans "delete" %}</a>){% endif %}
</li>
{% endfor %}
{% if perms.portal.add_show %}
	<li><a href="{% host_url admin-show-create on dashboard %}">{% trans "Create new Show" %}</a></li>
{% endif %}	
</ul>
{% endif %}

{% if setups or perms.portal.add_streamsetup %}
<h3>{% trans "Streams" %}</h3>
<p class="explanation">
{% blocktrans %}
For every show there is usually a setup of streams. Such a setup of streams combines various streams which differ in bitrates or formats. 
This is the place to view or change the credentials for your streams.
{% endblocktrans %}
</p>
<ul>
{% for s in setups %}
{% get_obj_perms request.user for s as "setup_perms" %}
	<li>
		<a href="{% host_url admin-streamsetup-edit s.id on dashboard %}">{{ s }}</a>
		{% if "delete_streamsetup" in setup_perms %}(<a href="{% host_url admin-streamsetup-delete s.id on dashboard %}">{% trans "delete" %}</a>){% endif %}
	</li>
{% endfor %}
{% if perms.portal.add_streamsetup %}
	<li><a href="{% host_url admin-streamsetup-create on dashboard %}">{% trans "Create new StreamSetup" %}</a></li>
{% endif %}
</ul>
{% endif %}
<h3>{% trans "Account Settings" %}</h3>
<ul>
    <li><a href="{% host_url account-change-pass on dashboard %}">{% trans "Change Password" %}</a></li>
{% if request.user.is_superuser %}
    <li><a href="{% host_url admin-list-users on dashboard %}">{% trans "List of Users" %}</a></li>
{% endif %}
</ul>
{% endblock %}
